<ion-content color="light">
  <app-header></app-header>
  <h1 class="welcome-container">BIENVENIDO A TU CAFETERIA</h1>
  <div class="content">

    <!-- SEARCHBAR -->
    <ion-searchbar [(ngModel)]="searchTerm" (ionChange)="filterFoods()" placeholder="Buscar productos"></ion-searchbar>

    <!-- Categorías -->
    <div class="categories">
      <ion-button *ngFor="let category of categories" (click)="filterByCategory(category)"
        class="category-button">
        {{ category.name }}
      </ion-button>
      <ion-button (click)="filterByCategory(null)" class="category-button">Mostrar todos</ion-button>
    </div>


    <!-- PRODUCTS -->
    <h1 class="list-header">Menú</h1>
    <div class="food-list">
      <app-food-card *ngFor="let food of filteredFoods" [item]="food" (click)="goToDetailPage(food.id)"></app-food-card>

    </div>
  </div>

</ion-content>

<!-- Agregar nuevo producto -->
<ion-fab vertical="bottom" horizontal="end" slot="fixed" style="bottom: 80px;" *ngIf="user?.role === 'Administrador'">
  <ion-fab-button (click)="openAddProductModal()">
    <ion-icon name="add"></ion-icon>
  </ion-fab-button>
</ion-fab>
<ion-fab vertical="bottom" horizontal="end" slot="fixed" *ngIf="user?.role === 'Administrador'">
  <ion-fab-button (click)="openHideProductsModal()">
    <ion-icon name="eye-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>
